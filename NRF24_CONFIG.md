# NRF24L01 配置说明文档

## 1. 基本配置
- 地址宽度：5字节
- 通道：90 (2490MHz)
- 数据速率：1Mbps
- 发射功率：12dBm (中等功率)
- CRC：1字节
- 自动应答：启用
- 动态负载长度：禁用
- 负载大小：12字节

## 2. 地址配置
设备A（遥控器）：
```c
uint8_t nrf24_tx_addr[5] = {0x45, 0x55, 0x67, 0x10, 0x21};
```

设备B（接收端）：
```c
uint8_t nrf24_tx_addr[5] = {0x21, 0x10, 0x67, 0x55, 0x45};  // 与设备A相反
```

## 3. 数据格式
12字节数据包格式：
```
[0]: 0xAA (帧头)
[1-2]: ADC1 (2字节)
[3-4]: ADC2 (2字节)
[5-6]: ADC3 (2字节)
[7-8]: ADC4 (2字节)
[9]: AUX1
[10]: AUX2
[11]: 0x55 (帧尾)
```

## 4. 通信参数
- 自动重传延迟：4 (1.25ms)
- 自动重传次数：10次
- 管道配置：
  - 发送管道：使用tx_addr
  - 接收管道0：使用对方tx_addr

## 5. 初始化步骤
1. 设置CSN和CE引脚
2. 等待5ms
3. 初始化NRF24
4. 配置所有参数
5. 打开发送和接收管道
6. 设置CE为高电平

## 6. 注意事项
1. 两个设备的地址必须配对（一个发送地址是另一个的接收地址）
2. 所有通信参数必须完全相同
3. 数据包格式必须一致
4. 建议在发送后添加10ms延时，避免发送过快

## 7. 调试建议
1. 使用UART输出传输状态
2. 监控CRC错误
3. 检查自动重传次数
4. 观察信号强度

## 8. 引脚连接
- CSN: 连接到SPI的片选引脚
- CE: 连接到控制引脚
- MOSI: SPI数据输出
- MISO: SPI数据输入
- SCK: SPI时钟
- VCC: 3.3V
- GND: 地 